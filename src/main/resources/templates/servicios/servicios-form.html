<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>
<div th:replace="~{layout :: scaffold(~{::section})}">
    <section>
        <!-- Header -->
        <header style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px;">
            <h2 style="margin:0;display:flex;align-items:center;gap:8px;">üõéÔ∏è
                <span th:text="${servicio.id} != null ? 'Editar Servicio' : 'Nuevo Servicio'">Nuevo Servicio</span>
            </h2>
            <a th:href="@{/servicios}"
               style="text-decoration:none;padding:10px 14px;border:1px solid #bfa58c;border-radius:999px;color:#5a4635;font-weight:700;">
                ‚Üê Volver a la lista
            </a>
        </header>

        <!-- Form -->
        <form th:action="${servicio.id} != null ? @{'/servicios/' + ${servicio.id}} : @{/servicios}"
              th:object="${servicio}" method="post"
              style="background:#fffaf7;padding:20px;border-radius:14px;box-shadow:0 2px 8px rgba(0,0,0,.08);max-width:520px;">

            <!-- Nombre -->
            <div style="margin-bottom:12px;">
                <label for="nombre" style="font-weight:700;display:block;margin-bottom:6px;">Nombre *</label>
                <input id="nombre" type="text" th:field="*{nombre}" required
                       style="width:100%;padding:10px;border-radius:10px;border:1px solid #d9cbb8;">
                <small th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"
                       style="color:#b00020;display:block;margin-top:6px;"></small>
            </div>

            <!-- Descripci√≥n -->
            <div style="margin-bottom:12px;">
                <label for="descripcion" style="font-weight:700;display:block;margin-bottom:6px;">Descripci√≥n</label>
                <input id="descripcion" type="text" th:field="*{descripcion}"
                       style="width:100%;padding:10px;border-radius:10px;border:1px solid #d9cbb8;">
            </div>

            <!-- Precio -->
            <div style="margin-bottom:16px;">
                <label for="precio" style="font-weight:700;display:block;margin-bottom:6px;">Precio *</label>
                <input id="precio" type="number" th:field="*{precio}" step="0.01" required
                       placeholder="0.00"
                       style="width:100%;padding:10px;border-radius:10px;border:1px solid #d9cbb8;">
                <small th:if="${#fields.hasErrors('precio')}" th:errors="*{precio}"
                       style="color:#b00020;display:block;margin-top:6px;"></small>
            </div>

            <!-- CSRF (si existe) -->
            <th:block th:with="csrf=${#request.getAttribute('org.springframework.security.web.csrf.CsrfToken')} ?: ${#request.getAttribute('_csrf')}"
                      th:if="${csrf != null}">
                <input type="hidden" th:name="${csrf.parameterName}" th:value="${csrf.token}"/>
            </th:block>

            <!-- Acciones -->
            <div style="display:flex;gap:10px;">
                <button type="submit"
                        style="padding:10px 16px;background:#e74c3c;border:none;border-radius:999px;color:#fff;font-weight:800;cursor:pointer;">
                    Guardar
                </button>
                <a th:href="@{/servicios}"
                   style="padding:10px 16px;border:1px solid #bfa58c;border-radius:999px;color:#5a4635;font-weight:800;text-decoration:none;">
                    Cancelar
                </a>
            </div>
        </form>
    </section>
</div>
</body>
</html>
